!function(){"use strict";angular.module("platanus.upload",["ngFileUpload"])}();
!function(){function a(){function a(a){function e(e){a.uploadData=e.upload;var o=e.upload||e;if(a.uploadData.identifier=o.identifier,a.uploadData.documentName=o.file_name||o.fileName,a.uploadData.fileExtension=o.file_extension||o.fileExtension,a.uploadData.downloadUrl=o.download_url||o.downloadUrl,!(a.uploadData.identifier&&a.uploadData.documentName&&a.uploadData.fileExtension&&a.uploadData.downloadUrl))throw"Invalid response. Must be a json with identifier, file_name, file_extension and download_url"}a.setUploadData=e}var e={link:a,require:"ngModel",replace:!0,scope:{ngModel:"=",documentName:"=",uploadUrl:"@",renderImageAs:"@",noDocumentText:"@",documentExtension:"@"},template:'<div><async-upload upload-url="{{uploadUrl}}" upload-callback="setUploadData($uploadData)" ng-model="ngModel"></async-upload><doc-preview no-document-text="{{noDocumentText}}" render-image-as="{{renderImageAs}}" document-name="uploadData.documentName" document-extension="{{uploadData.fileExtension}}" document-url="uploadData.downloadUrl"></doc-preview><div>'};return e}angular.module("platanus.upload").directive("asyncUploadPreview",a)}();
!function(){function e(e,l){function a(a,n,t,u){function o(l){if(l&&l.length){var n={url:a.uploadUrl,file:l[0]};e.upload(n).success(function(e){u.$setViewValue(e.upload.identifier),d&&d(a.$parent,{$uploadData:e})})}}function i(){return a.buttonLabel||"Select file..."}a.upload=o,a.getButtonLabel=i;var d=t.uploadCallback;d&&(d=l(d))}var n={template:'<div class="async-upload" ngf-change="upload($files)" ngf-select ng-model="files"><button>{{ getButtonLabel() }}</button></div>',require:"ngModel",scope:{uploadUrl:"@",buttonLabel:"@"},link:a};return n}angular.module("platanus.upload").directive("asyncUpload",e),e.$inject=["Upload","$parse"]}();
!function(){function n(){function n(n){function e(){var n=["gif","jpeg","jpg","png","bmp"];return n}function t(){var n=["3gp","7z","ace","ai","aif","aiff","amr","asf","asx","bat","bin","bup","cab","cbr","cda","cdl","cdr","chm","dat","divx","dll","dmg","doc","docx","dss","dvf","dwg","eml","eps","exe","fla","flv","gz","hqx","htm","html","ifo","indd","iso","jar","lnk","log","m4a","m4b","m4p","m4v","mcd","mdb","mid","mov","mp2","mp4","mpeg","mpg","msi","mswmm","ogg","pdf","pps","ppt","pptx","ps","psd","pst","ptb","pub","qbb","qbw","qxd","ram","rar","rm","rmvb","rtf","sea","ses","sit","sitx","ss","swf","tgz","thm","tif","tmp","torrent","ttf","txt","vcd","vob","wav","wma","wmv","wps","xls","xlsx","xpi","zip"];return e().concat(n)}function r(){return"image"===c()}function i(){return"none"===c()}function o(){if(n.documentExtension)return n.documentExtension;if(n.documentUrl){var e=n.documentUrl.split("/").pop();return e.split("?").shift().split(".").pop()}}function m(){var n=o();return-1===t().indexOf(n)?"unknown":n}function c(){if(!n.documentUrl)return"none";var t=o();return-1!==e().indexOf(t)?"image":"other"}function u(){return n.documentName||n.documentUrl}function a(){return"/assets/file-extensions/file_extension_"+m()+".png"}function s(){return i()?"":l()?n.documentUrl:a()}function l(){return r()&&"link"!==n.renderImageAs}function d(){return i()||r()&&"thumb"===n.renderImageAs?"":n.documentUrl}function p(){return i()&&n.noDocumentText?n.noDocumentText:!1}n.linkLabel=u,n.imageSrc=s,n.imageAsPreview=l,n.linkUrl=d,n.getNoDocumentText=p}var e={template:'<div class="doc-preview"><p class="no-document-text" ng-if="getNoDocumentText()">{{ getNoDocumentText() }}</p><img class="image-preview" ng-class="{ icon: !imageAsPreview() }" ng-if="imageSrc()" ng-src="{{ imageSrc() }}"/><a class="doc-link" ng-if="linkUrl()" href="{{ linkUrl() }}" target="_blank">{{ linkLabel() }}</a></div>',restrict:"E",replace:!0,scope:{documentUrl:"=",documentName:"=",documentExtension:"@",noDocumentText:"@",renderImageAs:"@"},link:n};return e}angular.module("platanus.upload").directive("docPreview",n)}();