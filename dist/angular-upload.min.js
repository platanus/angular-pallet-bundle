!function(){"use strict";angular.module("platanus.upload",["ngFileUpload"])}();
!function(){function a(a,l){function n(n,e,u,i){function o(l){if(l&&l.length){var e={url:n.link,file:l[0]};a.upload(e).success(function(a){i.$setViewValue(a.upload.identifier),t&&t(n.$parent,{$uploadData:a})})}}n.upload=o;var t=u.uploadCallback;t&&(t=l(t))}var e={template:'<div class="async-upload" ngf-change="upload($files)" ngf-select ng-model="files"><button>Upload</button></div>',require:"ngModel",scope:{link:"="},link:n};return e}angular.module("platanus.upload").directive("asyncUpload",a),a.$inject=["Upload","$parse"]}();
!function(){function n(){function n(n){function e(){if(n.documentExtension)return n.documentExtension;if(n.documentUrl){var e=n.documentUrl.split("/").pop();return e.split("?").shift().split(".").pop()}}function t(){var n=["gif","jpeg","jpg","png","bmp"];return n}function i(){var n=["3gp","7z","ace","ai","aif","aiff","amr","asf","asx","bat","bin","bup","cab","cbr","cda","cdl","cdr","chm","dat","divx","dll","dmg","doc","docx","dss","dvf","dwg","eml","eps","exe","fla","flv","gz","hqx","htm","html","ifo","indd","iso","jar","lnk","log","m4a","m4b","m4p","m4v","mcd","mdb","mid","mov","mp2","mp4","mpeg","mpg","msi","mswmm","ogg","pdf","pps","ppt","pptx","ps","psd","pst","ptb","pub","qbb","qbw","qxd","ram","rar","rm","rmvb","rtf","sea","ses","sit","sitx","ss","swf","tgz","thm","tif","tmp","torrent","ttf","txt","vcd","vob","wav","wma","wmv","wps","xls","xlsx","xpi","zip"];return t().concat(n)}function r(){return"image"===m()}function o(){return"none"===m()}function c(){var n=e();return-1===i().indexOf(n)?"unknown":n}function m(){if(!n.documentUrl)return"none";var i=e();return-1===t().indexOf(i)||n.forceLink?"other":"image"}function u(){return n.documentName||n.documentUrl}function a(){return"/assets/file-extensions/file_extension_"+c()+".png"}function d(){return o()?"":r()&&!n.hidePreview?n.documentUrl:a()}function s(){return o()||r()&&n.hideLink?"":n.documentUrl}function l(){return o()&&n.noDocumentText?n.noDocumentText:!1}n.linkLabel=u,n.imageSrc=d,n.linkUrl=s,n.getNoDocumentText=l}var e={template:'<div class="doc-preview"><p class="no-document-text" ng-if="getNoDocumentText()">{{ getNoDocumentText() }}</p><img class="image-preview" ng-if="imageSrc()" ng-src="{{ imageSrc() }}"/><a class="doc-link" ng-if="linkUrl()" href="{{ linkUrl() }}" target="_blank">{{ linkLabel() }}</a></div>',restrict:"E",replace:!0,scope:{documentUrl:"=",documentName:"=",documentExtension:"@",noDocumentText:"@",hidePreview:"@",hideLink:"@"},link:n};return e}angular.module("platanus.upload").directive("docPreview",n)}();